<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3 Meses Contigo üíì</title>
    <style>
      /* Bot√≥n de control de m√∫sica */
      .control-musica {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        padding: 0.8rem 1.2rem;
        border: 0;
        border-radius: 50px;
        background: linear-gradient(90deg, #8d45ff, #ff4d9a);
        color: #fff;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(141, 69, 255, 0.4);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .control-musica:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(141, 69, 255, 0.6);
      }

      .control-musica.pausado {
        background: linear-gradient(90deg, #555, #777);
      }

      /* Bot√≥n de corazones */
      .boton-corazones {
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 1000;
        padding: 0.8rem 1.2rem;
        border: 0;
        border-radius: 50px;
        background: linear-gradient(90deg, #ff4d9a, #ff6b6b);
        color: #fff;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(255, 77, 154, 0.4);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .boton-corazones:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 6px 25px rgba(255, 77, 154, 0.6);
      }

      .boton-corazones:active {
        transform: translateY(0) scale(0.95);
      }

      /* Corazones lanzados */
      .corazon-lanzado {
        position: fixed;
        font-size: 2rem;
        pointer-events: none;
        z-index: 999;
        animation: volarCorazon 2s ease-out forwards;
      }

      @keyframes volarCorazon {
        0% {
          transform: translateY(0) scale(1) rotate(0deg);
          opacity: 1;
        }
        50% {
          transform: translateY(-150px) scale(1.5) rotate(180deg);
          opacity: 0.8;
        }
        100% {
          transform: translateY(-300px) scale(0.3) rotate(360deg);
          opacity: 0;
        }
      }

      @media (max-width: 600px) {
        .control-musica {
          bottom: 15px;
          right: 15px;
          padding: 0.6rem 1rem;
          font-size: 0.9rem;
        }
        
        .boton-corazones {
          bottom: 15px;
          left: 15px;
          padding: 0.6rem 1rem;
          font-size: 0.9rem;
        }
      }

      :root {
        --fondo-1: #0a0520;
        --fondo-2: #1a0a28;
        --rosa: #ff4d9a;
        --neon: #46d9ff;
        --texto: #fbefff;
        --texto-suave: #d7c8ff;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        color: var(--texto);
        background:
          radial-gradient(circle at 15% 20%, rgba(70, 100, 255, 0.3), transparent 40%),
          radial-gradient(circle at 85% 25%, rgba(255, 77, 154, 0.28), transparent 42%),
          radial-gradient(circle at 50% 80%, rgba(125, 57, 255, 0.22), transparent 45%),
          linear-gradient(135deg, #0a0520 0%, #1a0a28 50%, #150a22 100%);
        background-size: 400% 400%;
        animation: fondoMovimiento 15s ease infinite;
        overflow-x: hidden;
      }

      @keyframes fondoMovimiento {
        0%, 100% {
          background-position: 0% 50%;
        }
        25% {
          background-position: 100% 50%;
        }
        50% {
          background-position: 50% 100%;
        }
        75% {
          background-position: 0% 0%;
        }
      }

      .capa-animaciones {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 2;
        overflow: hidden;
      }
      .corazon {
        position: fixed;
        width: 14px;
        height: 14px;
        background: var(--rosa);
        transform: rotate(45deg);
        animation: subir 12s linear infinite;
        opacity: 0.45;
        filter: drop-shadow(0 0 8px rgba(255, 77, 154, 0.6));
        z-index: 2;
      }
      .corazon::before, .corazon::after {
        content: "";
        position: absolute;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: inherit;
      }
      .corazon::before { left: -7px; }
      .corazon::after { top: -7px; }

      .icono-serie {
        position: fixed;
        font-size: 1.2rem;
        animation: caer 14s linear infinite;
        opacity: 0.75;
        z-index: 2;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.25);
      }

      .gif-cayendo {
        position: fixed;
        width: clamp(50px, 12vw, 80px);
        height: auto;
        animation: caer 14s linear infinite;
        opacity: 0.8;
        z-index: 2;
        filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        border-radius: 8px;
      }

      @keyframes subir {
        0% { transform: translateY(110vh) rotate(45deg) scale(0.8); opacity: 0; }
        20% { opacity: 0.6; }
        100% { transform: translateY(-20vh) rotate(45deg) scale(1.2); opacity: 0; }
      }
      @keyframes caer {
        0% { transform: translateY(-10vh) translateX(0); opacity: 0; }
        5% { opacity: 0.85; }
        100% { transform: translateY(110vh) translateX(25px); opacity: 0; }
      }

      .contenedor {
        position: relative;
        z-index: 5;
        width: min(980px, 94vw);
        margin: 1.5rem auto 3rem;
        padding: 0 0.5rem;
      }
      .intro {
        min-height: 200px;
        margin-bottom: 1.2rem;
        position: relative;
        display: grid;
        place-items: center;
      }
      .intro.stepped .intro-mensaje {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      .intro.stepped .stitch-intro-izq {
        transform: translateX(-58px);
      }
      .intro.stepped .stitch-intro-der {
        transform: translateX(57px);
      }
      .stitch-intro {
        position: absolute;
        top: 20px;
        width: clamp(70px, 18vw, 116px);
        transition: transform 2.5s cubic-bezier(0.22, 1, 0.36, 1) 0s,
                    transform 0.8s cubic-bezier(0.22, 1, 0.36, 1) 4.5s;
        filter: drop-shadow(0 0 18px rgba(255, 255, 255, 0.34));
      }
      .stitch-intro-izq {
        transform: translateX(-120px);
      }
      .stitch-intro-der {
        transform: translateX(120px);
      }
      .intro-mensaje {
        margin: 0;
        margin-top: 140px;
        opacity: 0;
        transform: translateY(10px) scale(0.98);
        transition: opacity 0.65s ease 5.8s, transform 0.65s ease 5.8s;
        color: #ffd9f2;
        text-shadow: 0 0 16px rgba(255, 77, 154, 0.45);
        font-size: clamp(1rem, 4vw, 1.3rem);
        padding: 0 1rem;
        text-align: center;
      }
      .carta {
        background: rgb(34 6 99 / 44%);
        border: 1px solid rgba(125, 57, 255, 0.55);
        border-radius: 20px;
        padding: clamp(1.2rem, 4vw, 2rem);
        text-align: center;
        box-shadow: 0 15px 60px rgba(0, 0, 0, 0.55), 0 0 28px rgba(125, 57, 255, 0.35);
        backdrop-filter: blur(2px);
      }
      .encabezado {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: clamp(0.5rem, 2vw, 1rem);
        flex-wrap: wrap;
      }
      .stitch {
        width: clamp(60px, 15vw, 10px);
        height: auto;
        filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.2));
      }
      .stitch-rosa {
         width: clamp(60px, 15vw, 10px);
        height: auto;
        filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.2));
      }
      h1 {
        margin: 0;
        font-size: clamp(1.4rem, 5vw, 3.1rem);
        color: #ffd2f0;
        text-shadow: 0 0 18px rgba(255, 77, 154, 0.45);
        line-height: 1.3;
        padding: 0 0.5rem;
      }
      .subtitulo { 
        margin-top: 0.6rem; 
        color: var(--neon); 
        font-weight: 700;
        font-size: clamp(0.85rem, 3vw, 1rem);
        padding: 0 0.5rem;
      }
      .mensaje {
        margin: 1.4rem auto;
        max-width: 64ch;
        line-height: 1.7;
        color: var(--texto-suave);
        font-size: clamp(0.9rem, 3vw, 1rem);
        padding: 0 0.5rem;
      }
      .contador {
        margin: 1.2rem auto;
        width: fit-content;
        max-width: 90%;
        padding: clamp(0.6rem, 2vw, 0.8rem) clamp(0.8rem, 3vw, 1rem);
        border-radius: 12px;
        border: 1px dashed var(--rosa);
        background: rgba(255, 77, 154, 0.08);
        color: #ffe7f5;
        font-weight: 600;
        font-size: clamp(0.85rem, 3vw, 1rem);
      }
      .boton {
        margin-top: 0.6rem;
        border: 0;
        border-radius: 999px;
        padding: clamp(0.7rem, 2.5vw, 0.82rem) clamp(1rem, 4vw, 1.3rem);
        background: linear-gradient(90deg, #8d45ff, #ff4d9a);
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        font-size: clamp(0.9rem, 3vw, 1rem);
      }
      .boton:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(141, 69, 255, 0.4);
      }
      .frase-con-foto { 
        margin-top: 2rem;
      }
      .detalle {
        min-height: 2rem;
        margin: 0 auto 1rem;
        max-width: 500px;
        padding: clamp(0.8rem, 3vw, 1rem) clamp(1rem, 4vw, 1.5rem);
        color: #ffe2f1;
        font-weight: 600;
        font-size: clamp(0.95rem, 3.5vw, 1.1rem);
        background: rgba(255, 77, 154, 0.12);
        border-radius: 16px;
        border: 1px solid rgba(255, 77, 154, 0.3);
        text-shadow: 0 0 10px rgba(255, 77, 154, 0.3);
        line-height: 1.6;
      }
      .foto-frase {
        margin: 0 auto;
        width: 100%;
        max-width: 520px;
        border-radius: 16px;
        border: 1px solid rgba(70, 217, 255, 0.35);
        overflow: hidden;
        background: rgba(8, 5, 18, 0.75);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .foto-frase img {
        width: 100%;
        max-height: 600px;
        object-fit: contain;
        display: block;
      }
      .firma { 
        margin-top: 2rem;
        margin-bottom: 1rem;
        color: #e6d8ff; 
        font-style: italic;
        font-size: clamp(0.95rem, 3.5vw, 1.05rem);
        padding: 0 1rem;
        line-height: 1.5;
      }

      @media (max-width: 600px) {
        .intro {
          min-height: 180px;
        }
        .stitch-intro {
          top: 15px;
        }
        .intro-mensaje {
          margin-top: 130px;
        }
        .intro.stepped .stitch-intro-izq {
          transform: translateX(-35px);
        }
        .intro.stepped .stitch-intro-der {
          transform: translateX(35px);
        }
        .stitch-intro-izq {
          transform: translateX(-120px);
        }
        .stitch-intro-der {
          transform: translateX(120px);
        }
        .carta {
          border-radius: 16px;
        }
        .foto-frase {
          border-radius: 12px;
        }
      }
    </style>
  </head>
  <body>
    <audio id="musicaFondo" loop>
      <source src="fotosSubidas/cancion.mp3" type="audio/mpeg">
    </audio>
    <button id="botonMusica" class="control-musica">
      üîä M√∫sica
    </button>
    <button id="botonCorazones" class="boton-corazones">
      üíï Corazones
    </button>
    
    <div class="capa-animaciones" id="capaAnimaciones"></div>
    <main class="contenedor">
      <section class="carta">
        <div class="intro" id="intro">
          <img class="stitch-intro stitch-intro-izq" src="fotosSubidas/angela.png" alt="Stitch izquierdo" />
          <img class="stitch-intro stitch-intro-der" src="fotosSubidas/stich.png" alt="Stitch derecho" />
          <h2 class="intro-mensaje">T√∫ y yo, siempre juntos üíì</h2>
        </div>

        <div class="encabezado">
          <img class="stitch" src="fotosSubidas/stich.png" alt="Stitch azul a la izquierda" />
          <h2>Feliz San Valent√≠n, mi corazon üíì</h2>
          <img class="stitch stitch-rosa" src="fotosSubidas/angela.png" alt="Stitch rosa representativo a la derecha" />
        </div>
        <p class="subtitulo">Feliz Meversario numero 3</p>

        <p class="mensaje">
          Conocerte fue una de mis mejores momentos en mi vida, y cada dia a tu lado ha sido un regalo, quiero compartirte fotos que compartimos de nuestro momento juntos üíå
        </p>

        <div class="contador" id="contador">Cargando nuestro tiempo juntos...</div>
        <button class="boton" id="botonFrase">Siguiente fraseüíì</button>

        <div class="frase-con-foto">
          <p class="detalle" id="detalle"></p>
          <figure class="foto-frase">
            <img id="fotoDetalle" src="" alt="Foto rom√°ntica" />
          </figure>
        </div>

        <p class="firma">Por este y mas tiempo juntos te Quiero ‚ù§Ô∏è</p>
      </section>
    </main>

    <script>
      const musicaFondo = document.getElementById("musicaFondo");
      const botonMusica = document.getElementById("botonMusica");
      let musicaReproduciendo = false;

      botonMusica.addEventListener("click", function() {
        if (musicaReproduciendo) {
          musicaFondo.pause();
          botonMusica.textContent = "üîá M√∫sica";
          botonMusica.classList.add("pausado");
          musicaReproduciendo = false;
        } else {
          musicaFondo.play().then(() => {
            botonMusica.textContent = "üîä M√∫sica";
            botonMusica.classList.remove("pausado");
            musicaReproduciendo = true;
          }).catch((error) => {
            console.log("Error al reproducir m√∫sica:", error);
          });
        }
      });

      window.addEventListener('load', function() {
        musicaFondo.play().then(() => {
          musicaReproduciendo = true;
          botonMusica.textContent = "üîä M√∫sica";
        }).catch(() => {
          botonMusica.textContent = "üîá M√∫sica";
        });
      });

   
      const botonCorazones = document.getElementById("botonCorazones");
      const corazonesEmojis = ["üíï", "‚ù§Ô∏è", "üíì",];

      botonCorazones.addEventListener("click", function() {
      
        for (let i = 0; i < 8; i++) {
          setTimeout(() => {
            lanzarCorazon();
          }, i * 100);
        }
      });

      function lanzarCorazon() {
        const corazon = document.createElement("div");
        corazon.className = "corazon-lanzado";
        corazon.textContent = corazonesEmojis[Math.floor(Math.random() * corazonesEmojis.length)];
        
       
        corazon.style.left = `${30 + Math.random() * 80}px`;
        corazon.style.bottom = "20px";
        
       
        const duracion = 1.5 + Math.random() * 1;
        corazon.style.animationDuration = `${duracion}s`;
        
        
        const rotacion = -20 + Math.random() * 40;
        corazon.style.setProperty('--rotacion-inicial', `${rotacion}deg`);
        
        document.body.appendChild(corazon);
        
        
        setTimeout(() => {
          corazon.remove();
        }, duracion * 1000);
      }

      
      const fechaInicio = new Date("2025-11-16T00:00:00");
      
      function actualizarContador() {
        const hoy = new Date();
        const diferencia = hoy - fechaInicio;
        const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
        const horas = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutos = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
        document.getElementById("contador").textContent = 
          `Llevamos ${dias} d√≠as, ${horas} horas y ${minutos} minutos juntos üíï`;
      }
      actualizarContador();
      setInterval(actualizarContador, 60000);

    
      const frases = [
        "Porque siempre estas a mi lado apoy√°ndome",
        "Porque eres lo mejor que me ha pasado",
        "Porque amo tus abrazos",
        "Porque si no es en esta realidad, te buscar√≠a en otra",
        "Porque eres mi persona favorita",
        "Porque contigo mi coraz√≥n late m√°s fuerte üíì",
        "Porque cada dia te quiero mas y mas",
        "Porque eres mi todo",
        "Porque me haces muy feliz",
        "Porque me encanta tu ojos",
      ];

     
      const totalFotos = 37;
      const fotosLocales = [];
      for (let i = 1; i <= totalFotos; i++) {
        fotosLocales.push({
          jpeg: `fotosSubidas/(${i}).jpeg`,
          jpg: `fotosSubidas/(${i}).jpg`
        });
      }

    
      let fotosDisponibles = [...fotosLocales];
      let frasesDisponibles = [...frases];

      const detalle = document.getElementById("detalle");
      const fotoDetalle = document.getElementById("fotoDetalle");

      function mostrarFraseConFoto() {
    
        if (fotosDisponibles.length === 0) {
          fotosDisponibles = [...fotosLocales];
        }
        
      
        if (frasesDisponibles.length === 0) {
          frasesDisponibles = [...frases];
        }
        
   
        const indiceFrase = Math.floor(Math.random() * frasesDisponibles.length);
        const indiceFoto = Math.floor(Math.random() * fotosDisponibles.length);
        
        const frase = frasesDisponibles[indiceFrase];
        const fotoObj = fotosDisponibles[indiceFoto];
        
     
        frasesDisponibles.splice(indiceFrase, 1);
        fotosDisponibles.splice(indiceFoto, 1);
        
        detalle.textContent = frase;
        
        // Intentar primero con .jpeg
        fotoDetalle.src = fotoObj.jpeg;
        fotoDetalle.alt = `Nuestro momento especial`;
        
        // Si falla .jpeg, intentar con .jpg
        fotoDetalle.onerror = function() {
          if (this.src.endsWith('.jpeg')) {
            this.src = fotoObj.jpg;
          }
        };
      }

      document.getElementById("botonFrase").addEventListener("click", mostrarFraseConFoto);
      mostrarFraseConFoto();

   
      const capaAnimaciones = document.getElementById("capaAnimaciones");

      setTimeout(() => {
        document.getElementById("intro").classList.add("stepped");
      }, 350);

  
      for (let i = 0; i < 36; i++) {
        const corazon = document.createElement("span");
        corazon.className = "corazon";
        corazon.style.left = `${Math.random() * 100}vw`;
        corazon.style.animationDelay = `${Math.random() * 12}s`;
        corazon.style.animationDuration = `${10 + Math.random() * 8}s`;
        corazon.style.opacity = `${0.2 + Math.random() * 0.45}`;
        capaAnimaciones.appendChild(corazon);
      }

    
      const iconosSeries = ["Te quiero", "üíì", "muuuuuucho", "mucho", "como la vaca", "üêÆ"];
      for (let i = 0; i < 24; i++) {
        const icono = document.createElement("span");
        icono.className = "icono-serie";
        icono.textContent = iconosSeries[Math.floor(Math.random() * iconosSeries.length)];
        icono.style.left = `${Math.random() * 100}vw`;
        icono.style.animationDelay = `${Math.random() * 5}s`;
        icono.style.animationDuration = `${11 + Math.random() * 9}s`;
        icono.style.fontSize = `${0.95 + Math.random() * 1.1}rem`;
        capaAnimaciones.appendChild(icono);
      }

     
      const totalGifs = 5;
      for (let i = 0; i < 15; i++) {
        const gif = document.createElement("img");
        gif.className = "gif-cayendo";
        const numGif = Math.floor(Math.random() * totalGifs) + 1;
        gif.src = `fotosSubidas/${numGif}.gif`;
        gif.style.left = `${Math.random() * 100}vw`;
        gif.style.animationDelay = `${Math.random() * 5}s`;
        gif.style.animationDuration = `${12 + Math.random() * 8}s`;
        gif.style.width = `${50 + Math.random() * 30}px`;
        capaAnimaciones.appendChild(gif);
      }
    </script>
  </body>
</html>